<div class="row">
    <div class="col-xs-6 col-sm-4 col-md-3 col-lg-3">
        <app-chat-users></app-chat-users>
    </div>
    <div class="col-xs-6 col-sm-8 col-md-9 col-lg-9">
        <div class="panel panelLogin bg-light" *ngIf="!this.chatService.isLoggin()">
            <div class="input-group mb-2 mr-sm-2">
                <div class="input-group-prepend">
                <div class="input-group-text">Username</div>
                </div> 
                <input type="text" class="form-control" id="pseudo" [(ngModel)]="pseudo" placeholder="Username">
                <button type="button" class="btn btn-primary" (click)="login()">Login</button>
            </div>
        </div>
        
        <div class="panel bg-light" *ngIf="this.chatService.isLoggin()">        
                <button type="button" class="btn btn-primary" (click)="logout()">Deconnexion</button>
        </div>
        
        <div class="panel panel-message bg-light" #scrollMe [scrollTop]="scrollMe.scrollHeight">
            Messages
            <li *ngFor="let msg of messages">
                <i class="fa fa-envelope"></i> &nbsp;
                <span *ngIf="msg.status===0"><span [ngStyle]="{'font-weight':'bold'}">{{msg.pseudo}}</span> : {{msg.message}}</span>
                <span *ngIf="msg.status===1" [ngStyle]="{'color':'green'}"><span [ngStyle]="{'font-weight':'bold'}">{{msg.pseudo}}</span> vient de se connecter</span>
                <span *ngIf="msg.status===2" [ngStyle]="{'color':'red'}"><span [ngStyle]="{'font-weight':'bold'}">{{msg.pseudo}}</span> vient de se d√©connecter ({{msg.message}})</span>
            </li>
        </div>
        
        <div class="panel bg-light" *ngIf="this.chatService.isLoggin()">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Message" [(ngModel)]="message" (keyup)="onMessageKey($event)"> 
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="button" (click)="sendMessage(message)">Envoyer</button>
                </div>
            </div>
        </div>
    </div>
</div>
